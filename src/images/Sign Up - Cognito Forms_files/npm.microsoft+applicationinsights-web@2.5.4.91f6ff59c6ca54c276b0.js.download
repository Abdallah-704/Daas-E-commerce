(window.webpackJsonp=window.webpackJsonp||[]).push([[214],{678:function(e,t,n){"use strict";n.r(t),n.d(t,"ApplicationInsights",(function(){return f})),n.d(t,"Telemetry",(function(){return h})),n.d(t,"ApplicationInsightsContainer",(function(){return v})),n.d(t,"AppInsightsCore",(function(){return i.a})),n.d(t,"LoggingSeverity",(function(){return a.a})),n.d(t,"_InternalMessageId",(function(){return a.b})),n.d(t,"Util",(function(){return d.e})),n.d(t,"SeverityLevel",(function(){return k.a})),n.d(t,"Event",(function(){return T.a})),n.d(t,"Exception",(function(){return w.a})),n.d(t,"Metric",(function(){return b.a})),n.d(t,"PageView",(function(){return m.a})),n.d(t,"PageViewPerformance",(function(){return x.a})),n.d(t,"RemoteDependencyData",(function(){return D.a})),n.d(t,"Trace",(function(){return B.a})),n.d(t,"DistributedTracingModes",(function(){return E.a})),n.d(t,"Sender",(function(){return p.a})),n.d(t,"ApplicationAnalytics",(function(){return s.a})),n.d(t,"PropertiesPlugin",(function(){return c.a})),n.d(t,"DependenciesPlugin",(function(){return u.a}));var i=n(703),o=n(18),r=n(24),a=n(25),s=n(704),p=n(702),c=n(701),u=n(705),l=n(31),g=n(390),d=n(29),h=l,f=function(){function e(e){e.queue=e.queue||[],e.version=e.version||2;var t=e.config||{};if(t.connectionString){var n=g.a.parse(t.connectionString),o=n.ingestionendpoint;t.endpointUrl=o?o+"/v2/track":t.endpointUrl,t.instrumentationKey=n.instrumentationkey||t.instrumentationKey}this.appInsights=new s.a,this.properties=new c.a,this.dependencies=new u.a,this.core=new i.a,this.snippet=e,this.config=t,this.getSKUDefaults()}return e.prototype.trackEvent=function(e,t){this.appInsights.trackEvent(e,t)},e.prototype.trackPageView=function(e){var t=e||{};this.appInsights.trackPageView(t)},e.prototype.trackPageViewPerformance=function(e){var t=e||{};this.appInsights.trackPageViewPerformance(t)},e.prototype.trackException=function(e){!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},e.prototype._onerror=function(e){this.appInsights._onerror(e)},e.prototype.trackTrace=function(e,t){this.appInsights.trackTrace(e,t)},e.prototype.trackMetric=function(e,t){this.appInsights.trackMetric(e,t)},e.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,i){this.appInsights.stopTrackPage(e,t,n,i)},e.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsights.stopTrackEvent(e,t,n)},e.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){void 0===n&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},e.prototype.flush=function(e){void 0===e&&(e=!0),o.a.arrForEach(this.core.getTransmissionControls(),(function(t){o.a.arrForEach(t,(function(t){t.flush(e)}))}))},e.prototype.onunloadFlush=function(e){void 0===e&&(e=!0),o.a.arrForEach(this.core.getTransmissionControls(),(function(t){o.a.arrForEach(t,(function(t){t.onunloadFlush?t.onunloadFlush():t.flush(e)}))}))},e.prototype.loadAppInsights=function(e){void 0===e&&(e=!1);var t=this;if(e&&t.config.extensions&&t.config.extensions.length>0)throw new Error("Extensions not allowed in legacy mode");var n=[],i=new p.a;return n.push(i),n.push(t.properties),n.push(t.dependencies),n.push(t.appInsights),t.core.initialize(t.config,n),t.context=t.properties.context,function(e){if(e)for(var n in t)o.a.isString(n)&&!o.a.isFunction(t[n])&&"_"!==n.substring(0,1)&&(e[n]=t[n])}(t.snippet),t.emptyQueue(),t.pollInternalLogs(),t.addHousekeepingBeforeUnload(this),t},e.prototype.updateSnippetDefinitions=function(e){for(var t in this)o.a.isString(t)&&(e[t]=this[t])},e.prototype.emptyQueue=function(){try{if(d.e.isArray(this.snippet.queue)){for(var e=this.snippet.queue.length,t=0;t<e;t++){(0,this.snippet.queue[t])()}this.snippet.queue=void 0,delete this.snippet.queue}}catch(e){e&&o.a.isFunction(e.toString)&&e.toString()}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(e){if(Object(r.l)()||Object(r.j)()){var t=function(){e.onunloadFlush(!1);var t=e.appInsights.core._extensions[l.PropertiesPluginIdentifier];t&&t.context&&t.context._sessionManager&&t.context._sessionManager.backup()};if(!e.appInsights.config.disableFlushOnBeforeUnload){var n=o.a.addEventHandler("beforeunload",t);(n=o.a.addEventHandler("pagehide",t)||n)||e.appInsights.core.logger.throwInternal(a.a.CRITICAL,a.b.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||o.a.addEventHandler("pagehide",t)}},e.prototype.getSKUDefaults=function(){this.config.diagnosticLogInterval=this.config.diagnosticLogInterval&&this.config.diagnosticLogInterval>0?this.config.diagnosticLogInterval:1e4},e}(),y=n(64),I=function(){function e(t,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=e.getDefaultConfig(t.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return e.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=d.e.stringToBoolOrDefault(e.enableDebug),e.disableExceptionTracking=d.e.stringToBoolOrDefault(e.disableExceptionTracking),e.disableTelemetry=d.e.stringToBoolOrDefault(e.disableTelemetry),e.verboseLogging=d.e.stringToBoolOrDefault(e.verboseLogging),e.emitLineDelimitedJson=d.e.stringToBoolOrDefault(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=d.e.stringToBoolOrDefault(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=d.e.stringToBoolOrDefault(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=d.e.stringToBoolOrDefault(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=d.e.stringToBoolOrDefault(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=d.e.stringToBoolOrDefault(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=d.e.stringToBoolOrDefault(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=d.e.stringToBoolOrDefault(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=d.e.stringToBoolOrDefault(e.isRetryDisabled),e.isCookieUseDisabled=d.e.stringToBoolOrDefault(e.isCookieUseDisabled),e.isStorageUseDisabled=d.e.stringToBoolOrDefault(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=d.e.stringToBoolOrDefault(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=d.e.stringToBoolOrDefault(e.enableCorsCorrelation),e},e.prototype.addTelemetryInitializers=function(e){var t=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer((function(e){t._processLegacyInitializers(e)})),this._hasLegacyInitializers=!0),this._queue.push(e)},e.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,i){this.appInsightsNew.stopTrackPage(e,t,n)},e.prototype.trackPageView=function(e,t,n,i,o){var r={name:e,uri:t,properties:n,measurements:i};this.appInsightsNew.trackPageView(r)},e.prototype.trackEvent=function(e,t,n){this.appInsightsNew.trackEvent({name:e})},e.prototype.trackDependency=function(e,t,n,i,o,r,a){this.appInsightsNew.trackDependencyData({id:e,target:n,type:i,duration:o,properties:{HttpMethod:t},success:r,responseCode:a})},e.prototype.trackException=function(e,t,n,i,o){this.appInsightsNew.trackException({exception:e})},e.prototype.trackMetric=function(e,t,n,i,o,r){this.appInsightsNew.trackMetric({name:e,average:t,sampleCount:n,min:i,max:o})},e.prototype.trackTrace=function(e,t,n){this.appInsightsNew.trackTrace({message:e,severityLevel:n})},e.prototype.flush=function(e){this.appInsightsNew.flush(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},e.prototype._onerror=function(e,t,n,i,o){this.appInsightsNew._onerror({message:e,url:t,lineNumber:n,columnNumber:i,error:o})},e.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsightsNew.stopTrackEvent(e,t,n)},e.prototype.downloadAndSetup=function(e){throw new Error("downloadAndSetup not implemented in web SKU")},e.prototype.updateSnippetDefinitions=function(e){for(var t in this)"string"==typeof t&&(e[t]=this[t])},e.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var t=this.trackPageView;this.trackPageView=function(n,i,o){t.apply(e,[null,n,i,o])}}"function"==typeof this.snippet.logPageView&&(this.logPageView=function(t,n,i){e.trackPageView(null,t,n,i)});return"function"==typeof this.snippet.logEvent&&(this.logEvent=function(t,n,i){e.trackEvent(t,n,i)}),this},e.prototype._processLegacyInitializers=function(e){return e.tags[y.d]=this._queue,e},e}(),v=function(){function e(){}return e.getAppInsights=function(e,t){var n=new f(e),i=2!==t;if(2===t)return n.updateSnippetDefinitions(e),n.loadAppInsights(i),n;var o=new I(e,n);return o.updateSnippetDefinitions(e),n.loadAppInsights(i),o},e}(),k=n(394),T=n(391),w=n(409),b=n(408),m=n(392),x=n(413),D=n(411),B=n(412),E=n(16)}}]);
//# sourceMappingURL=npm.microsoft+applicationinsights-web@2.5.4.91f6ff59c6ca54c276b0.js.map